# è‡ªåŠ¨åŒ–æµ‹è¯•ç®¡ç†å¹³å°

<div align="center">

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Django](https://img.shields.io/badge/Django-4.2.7-green)
![Vue](https://img.shields.io/badge/Vue-3.3.8-brightgreen)
![License](https://img.shields.io/badge/license-MIT-orange)

ä¸€ä¸ªåŸºäº Vue3 + Django çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç®¡ç†å¹³å°ï¼Œé€šè¿‡å¯è§†åŒ–æ‹–æ‹‰æ‹½æ–¹å¼åˆ›å»ºå’Œç®¡ç†å¤šç±»å‹æµ‹è¯•è„šæœ¬ã€‚

**æ ¸å¿ƒç‰¹æ€§**: æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„ | ç‹¬ç«‹æ‰§è¡Œå™¨ | å¯è§†åŒ–è„šæœ¬ç¼–è¾‘ | å¤šæ¡†æ¶æ”¯æŒ

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [ä½¿ç”¨è¯´æ˜](#ä½¿ç”¨è¯´æ˜) â€¢ [éƒ¨ç½²æ–‡æ¡£](#ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²)

</div>

## åŠŸèƒ½ç‰¹æ€§

| åŠŸèƒ½ | æè¿° |
|------|------|
| ğŸ¨ **å¯è§†åŒ–è„šæœ¬ç¼–è¾‘å™¨** | æ‹–æ‹‰æ‹½æ–¹å¼åˆ›å»ºæµ‹è¯•æ­¥éª¤ï¼Œæ”¯æŒå¯è§†åŒ–/JSON åŒæ¨¡å¼ç¼–è¾‘ï¼Œ8å¤§ç±»50+æ­¥éª¤ç±»å‹ |
| ğŸ”§ **å¤šæ¡†æ¶æ”¯æŒ** | Seleniumã€Playwrightã€Appiumã€HttpRunner |
| ğŸ“Š **ä¸°å¯Œçš„æµ‹è¯•æŠ¥å‘Š** | ECharts å›¾è¡¨å±•ç¤ºï¼ŒHTML/PDF æŠ¥å‘Šå¯¼å‡ºï¼Œå®æ—¶æ‰§è¡ŒçŠ¶æ€ |
| ğŸ§© **æ¨¡å—åŒ–å¤ç”¨** | å°†å¸¸ç”¨æ­¥éª¤ä¿å­˜ä¸ºæ¨¡å—ï¼Œæé«˜è„šæœ¬å¤ç”¨æ€§ |
| ğŸ“ˆ **å‚æ•°åŒ–æµ‹è¯•** | æ”¯æŒæ•°æ®é©±åŠ¨ï¼Œæ‰¹é‡æ‰§è¡Œæµ‹è¯• |
| âš¡ **å¹¶å‘æ‰§è¡Œ** | æ”¯æŒå¤šä»»åŠ¡å¹¶å‘æ‰§è¡Œï¼Œæé«˜æµ‹è¯•æ•ˆç‡ |
| ğŸš¦ **å®æ—¶æ‰§è¡Œæ§åˆ¶** | WebSocket å®æ—¶æ¨é€æ‰§è¡ŒçŠ¶æ€ï¼Œæ”¯æŒæ‰‹åŠ¨åœæ­¢ |
| ğŸ‘¥ **æƒé™åˆ†çº§ç®¡ç†** | å››çº§è§’è‰²æƒé™ï¼Œçµæ´»æ§åˆ¶è®¿é—® |
| ğŸ”Œ **å˜é‡ç®¡ç†** | é¡¹ç›®çº§/è„šæœ¬çº§å˜é‡ï¼Œæ”¯æŒæ•æ„Ÿæ•°æ®åŠ å¯† |
| ğŸ“¦ **ç‹¬ç«‹æ‰§è¡Œå™¨** | ç‹¬ç«‹çš„æ‰§è¡Œå™¨å®¢æˆ·ç«¯ï¼Œæ”¯æŒè¿œç¨‹éƒ¨ç½²ï¼ŒPyQt6 GUI |
| ğŸ”„ **æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„** | RabbitMQ å®ç°ä»»åŠ¡åˆ†å‘ï¼Œæ”¯æŒå¤šæ‰§è¡Œæœºè´Ÿè½½å‡è¡¡ |

## æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯é€‰æ‹© | ç‰ˆæœ¬ |
|------|----------|------|
| å‰ç«¯ | Vue 3 + Vite + TypeScript + Ant Design Vue | 3.3.8 / 5.0.2 |
| åç«¯ | Django + Django REST Framework + Channels | 4.2.7 / 3.14.0 |
| WebSocket | Daphne (ASGIæœåŠ¡å™¨) | - |
| æ¶ˆæ¯é˜Ÿåˆ— | RabbitMQ + Pika | 3.12+ / 1.3.2 |
| æ•°æ®åº“ | SQLite (æ”¯æŒ PostgreSQL/MySQL) | 3 |
| æµ‹è¯•æ¡†æ¶ | Selenium / Playwright / Appium / HttpRunner | 4.15.2 / 1.40.0 / 3.1.1 |

## æ”¯æŒçš„è„šæœ¬ç±»å‹

| ç±»å‹ | è¯´æ˜ | æ”¯æŒæ¡†æ¶ |
|------|------|----------|
| **Webè‡ªåŠ¨åŒ–** | Web åº”ç”¨ UI è‡ªåŠ¨åŒ–æµ‹è¯• | Selenium, Playwright |
| **ç§»åŠ¨ç«¯è‡ªåŠ¨åŒ–** | ç§»åŠ¨åº”ç”¨ UI è‡ªåŠ¨åŒ–æµ‹è¯• | Appium |
| **APIæ¥å£æµ‹è¯•** | HTTP/HTTPS æ¥å£æµ‹è¯• | HttpRunner |

## æƒé™åˆ†çº§

| è§’è‰² | ç­‰çº§ | æƒé™è¯´æ˜ |
|------|------|----------|
| **è¶…çº§ç®¡ç†å‘˜** (super_admin) | 4 | å…¨éƒ¨æƒé™ + ç®¡ç†ç”¨æˆ· + ç³»ç»Ÿè®¾ç½® |
| **ç®¡ç†å‘˜** (admin) | 3 | æŸ¥çœ‹ã€åˆ›å»ºã€æ›´æ–°ã€åˆ é™¤ã€æ‰§è¡Œæµ‹è¯• |
| **æµ‹è¯•äººå‘˜** (tester) | 2 | æŸ¥çœ‹ã€åˆ›å»ºè„šæœ¬ã€æ‰§è¡Œæµ‹è¯• |
| **è®¿å®¢** (guest) | 1 | ä»…æŸ¥çœ‹æƒé™ |

## é¡¹ç›®ç»“æ„

```
auto-test-platform/
â”œâ”€â”€ backend/                    # Django åç«¯
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ settings.py         # ä¸»é…ç½®æ–‡ä»¶ (å«RabbitMQé…ç½®)
â”‚   â”‚   â”œâ”€â”€ urls.py             # URLè·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ asgi.py             # ASGIé…ç½® (WebSocket)
â”‚   â”‚   â””â”€â”€ wsgi.py             # WSGIé…ç½®
â”‚   â”œâ”€â”€ apps/                   # åº”ç”¨æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ users/              # ç”¨æˆ·ç®¡ç† (æƒé™åˆ†çº§ã€è®¤è¯)
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py       # Useræ¨¡å‹ (roleå­—æ®µ)
â”‚   â”‚   â”‚   â”œâ”€â”€ permissions.py  # æƒé™æ§åˆ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ serializers.py  # æ•°æ®åºåˆ—åŒ–
â”‚   â”‚   â”‚   â””â”€â”€ views.py        # è§†å›¾é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ projects/           # é¡¹ç›®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ scripts/            # è„šæœ¬ç®¡ç† + æ•°æ®æºç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py       # Script, DataSource, ApiTestConfig
â”‚   â”‚   â”‚   â””â”€â”€ urls.py         # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ plans/              # è®¡åˆ’ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ executions/         # æ‰§è¡Œç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ consumers.py    # WebSocketæ¶ˆè´¹è€…
â”‚   â”‚   â”‚   â””â”€â”€ models.py       # Executionæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ reports/            # æŠ¥å‘Šç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ generators.py   # æŠ¥å‘Šç”Ÿæˆå™¨
â”‚   â”‚   â”‚   â””â”€â”€ models.py       # Reportæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ drivers/            # é©±åŠ¨ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ executors/          # æ‰§è¡Œå™¨ç®¡ç† (åˆ†ç»„/æ ‡ç­¾)
â”‚   â”‚   â”‚   â”œâ”€â”€ consumers.py    # WebSocketæ¶ˆè´¹è€…
â”‚   â”‚   â”‚   â”œâ”€â”€ consumers_v2.py # æ–°ç‰ˆWebSocket (ä»…çŠ¶æ€å±•ç¤º)
â”‚   â”‚   â”‚   â”œâ”€â”€ heartbeat.py    # HTTPå¿ƒè·³å’Œæ³¨å†ŒAPI
â”‚   â”‚   â”‚   â””â”€â”€ routing.py      # WebSocketè·¯ç”±
â”‚   â”‚   â””â”€â”€ scheduler/          # è°ƒåº¦å™¨
â”‚   â”œâ”€â”€ services/               # æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ message_queue.py    # RabbitMQ å‘å¸ƒè€…æœåŠ¡
â”‚   â”‚   â””â”€â”€ task_distributor.py # ä»»åŠ¡åˆ†å‘æœåŠ¡
â”‚   â”œâ”€â”€ engine/                 # æµ‹è¯•å¼•æ“
â”‚   â”‚   â””â”€â”€ appium_engine.py    # Appiumå¼•æ“
â”‚   â”œâ”€â”€ media/                  # åª’ä½“æ–‡ä»¶ (æˆªå›¾ç­‰)
â”‚   â”œâ”€â”€ reports/                # æµ‹è¯•æŠ¥å‘Šå­˜å‚¨
â”‚   â”œâ”€â”€ manage.py               # Django ç®¡ç†è„šæœ¬
â”‚   â””â”€â”€ requirements.txt        # Python ä¾èµ–
â”‚
â”œâ”€â”€ frontend/                   # Vue3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                # API è°ƒç”¨å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ request.ts      # Axios å°è£…
â”‚   â”‚   â”‚   â”œâ”€â”€ user.ts         # ç”¨æˆ· API
â”‚   â”‚   â”‚   â”œâ”€â”€ project.ts      # é¡¹ç›® API
â”‚   â”‚   â”‚   â”œâ”€â”€ script.ts       # è„šæœ¬ API
â”‚   â”‚   â”‚   â”œâ”€â”€ execution.ts    # æ‰§è¡Œ API
â”‚   â”‚   â”‚   â””â”€â”€ executor.ts     # æ‰§è¡Œå™¨ API
â”‚   â”‚   â”œâ”€â”€ components/         # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ScriptEditor/   # å¯è§†åŒ–è„šæœ¬ç¼–è¾‘å™¨
â”‚   â”‚   â”œâ”€â”€ store/              # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ router/             # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ layout/             # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ styles/             # æ ·å¼æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ views/              # é¡µé¢è§†å›¾
â”‚   â”‚       â”œâ”€â”€ Login.vue           # ç™»å½•é¡µ
â”‚   â”‚       â”œâ”€â”€ ProjectList.vue     # é¡¹ç›®åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ ProjectDetail.vue   # é¡¹ç›®è¯¦æƒ…
â”‚   â”‚       â”œâ”€â”€ ScriptList.vue      # è„šæœ¬åˆ—è¡¨
â”‚   â”‚       â”œâ”€â”€ ScriptEdit.vue      # è„šæœ¬ç¼–è¾‘
â”‚   â”‚       â”œâ”€â”€ PlanManage.vue      # æµ‹è¯•è®¡åˆ’
â”‚   â”‚       â”œâ”€â”€ ExecutionList.vue   # æ‰§è¡Œè®°å½•
â”‚   â”‚       â”œâ”€â”€ ReportView.vue      # æµ‹è¯•æŠ¥å‘Š
â”‚   â”‚       â”œâ”€â”€ ExecutorManage.vue  # æ‰§è¡Œå™¨ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ VariableManage.vue  # å˜é‡ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ UserManage.vue      # ç”¨æˆ·ç®¡ç†
â”‚   â”‚       â”œâ”€â”€ AccountRoleManage.vue # è´¦å·è§’è‰²
â”‚   â”‚       â”œâ”€â”€ DriverCenter.vue    # é©±åŠ¨ä¸­å¿ƒ
â”‚   â”‚       â””â”€â”€ HelpCenter.vue      # å¸®åŠ©ä¸­å¿ƒ
â”‚   â”œâ”€â”€ index.html              # å…¥å£ HTML
â”‚   â””â”€â”€ package.json            # Node ä¾èµ–
â”‚
â”œâ”€â”€ executor-client/            # æ‰§è¡Œå™¨å®¢æˆ·ç«¯ (PyQt6ç‹¬ç«‹åº”ç”¨)
â”‚   â”œâ”€â”€ main.py                 # ä¸»å…¥å£
â”‚   â”œâ”€â”€ config.py               # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ executor.py             # æ‰§è¡Œå™¨æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ task_manager.py         # ä»»åŠ¡ç®¡ç†å™¨ (æ—§ç‰ˆWebSocket)
â”‚   â”œâ”€â”€ task_manager_v2.py      # æ–°ä»»åŠ¡ç®¡ç†å™¨ (MQ + HTTP)
â”‚   â”œâ”€â”€ websocket_client.py     # WebSocket é€šä¿¡
â”‚   â”œâ”€â”€ message_queue_client.py # RabbitMQ æ¶ˆè´¹è€…
â”‚   â”œâ”€â”€ gui/                    # PyQt6 GUI ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ main_window.py      # ä¸»çª—å£
â”‚   â”‚   â””â”€â”€ config_wizard.py    # é…ç½®å‘å¯¼
â”‚   â”œâ”€â”€ build.py                # æ‰“åŒ…è„šæœ¬
â”‚   â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”‚   â””â”€â”€ ä½¿ç”¨è¯´æ˜.md             # ä½¿ç”¨è¯´æ˜æ–‡æ¡£
â”‚
â”œâ”€â”€ docker-compose.yml          # Docker Compose é…ç½®
â”œâ”€â”€ setup_rabbitmq.ps1          # Windows RabbitMQ å®‰è£…è„šæœ¬
â”œâ”€â”€ DEPLOYMENT.md               # è¯¦ç»†éƒ¨ç½²æ–‡æ¡£
â”œâ”€â”€ MQ_SUMMARY.md               # æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„æ€»ç»“
â”œâ”€â”€ RABBITMQ_*.md               # RabbitMQ ç›¸å…³æ–‡æ¡£
â””â”€â”€ README.md                   # é¡¹ç›®è¯´æ˜ (æœ¬æ–‡ä»¶)
```

## ç³»ç»Ÿæ¶æ„

### é€šä¿¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Web æµè§ˆå™¨                            â”‚
â”‚                    (Vue.js å‰ç«¯åº”ç”¨)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP + WebSocket
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Django åç«¯                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              REST API (Django REST Framework)        â”‚   â”‚
â”‚  â”‚  /api/auth/  /api/users/  /api/projects/            â”‚   â”‚
â”‚  â”‚  /api/scripts/  /api/executions/  /api/reports/     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚            WebSocket (Channels + Daphne)            â”‚   â”‚
â”‚  â”‚  /ws/executor-status/  â†’  Web UI çŠ¶æ€å±•ç¤º           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          TaskDistributor (ä»»åŠ¡åˆ†å‘æœåŠ¡)             â”‚   â”‚
â”‚  â”‚    æ‰«æå¾…æ‰§è¡Œä»»åŠ¡ â†’ é€‰æ‹©å¯ç”¨æ‰§è¡Œæœº â†’ å‘å¸ƒåˆ°MQ       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ HTTP POST (å‘å¸ƒä»»åŠ¡)
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RabbitMQ æ¶ˆæ¯é˜Ÿåˆ—                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              äº¤æ¢æœº: executor_tasks                  â”‚   â”‚
â”‚  â”‚  é˜Ÿåˆ—: executor.{uuid} (æ¯æ‰§è¡Œæœºä¸“å±é˜Ÿåˆ—)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ æ¶ˆè´¹ä»»åŠ¡
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ‰§è¡Œå™¨å®¢æˆ·ç«¯ (PyQt6)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          MessageQueueClient (RabbitMQæ¶ˆè´¹è€…)        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚               Executor (æ‰§è¡Œå¼•æ“)                   â”‚   â”‚
â”‚  â”‚  Selenium | Playwright | Appium | HttpRunner       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚          HTTP å¿ƒè·³ä¸ŠæŠ¥ (30ç§’ä¸€æ¬¡)                    â”‚   â”‚
â”‚  â”‚  POST /api/executor/heartbeat/                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµè¯´æ˜

**ä»»åŠ¡åˆ†å‘æµç¨‹**:
1. ç”¨æˆ·åœ¨Web UIç‚¹å‡»"æ‰§è¡Œæµ‹è¯•"
2. å‰ç«¯è°ƒç”¨ `POST /api/executions/` åˆ›å»ºæ‰§è¡Œè®°å½•
3. TaskDistributor åå°æœåŠ¡æ‰«æå¾…åˆ†é…ä»»åŠ¡
4. æ ¹æ®æ‰§è¡ŒæœºçŠ¶æ€é€‰æ‹©å¯ç”¨æ‰§è¡Œæœº
5. å°†ä»»åŠ¡å‘å¸ƒåˆ°RabbitMQ (routing_key: `executor.{uuid}`)
6. æ‰§è¡Œæœºä»ä¸“å±é˜Ÿåˆ—æ¶ˆè´¹ä»»åŠ¡å¹¶æ‰§è¡Œ
7. æ‰§è¡Œç»“æœé€šè¿‡HTTP POSTä¸ŠæŠ¥åˆ°å¹³å°

**å¿ƒè·³ä¸ŠæŠ¥æµç¨‹**:
1. æ‰§è¡Œæœºå¯åŠ¨åæ¯30ç§’å‘é€HTTPå¿ƒè·³
2. æºå¸¦ç³»ç»Ÿèµ„æºä¿¡æ¯ (CPU/å†…å­˜/ç£ç›˜)
3. å¹³å°æ›´æ–°æ‰§è¡ŒæœºçŠ¶æ€å’Œæœ€åå¿ƒè·³æ—¶é—´
4. è¶…è¿‡ä¸€å®šæ—¶é—´æœªæ”¶åˆ°å¿ƒè·³åˆ™æ ‡è®°ä¸ºç¦»çº¿

**çŠ¶æ€å±•ç¤ºæµç¨‹**:
1. Web UI è¿æ¥ `/ws/executor-status/`
2. å¹³å°é€šè¿‡ channel_layer å¹¿æ’­æ‰§è¡ŒæœºçŠ¶æ€å˜åŒ–
3. å‰ç«¯å®æ—¶æ¥æ”¶çŠ¶æ€æ›´æ–°å¹¶å±•ç¤º

## API ç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | è¯´æ˜ |
|------|------|------|
| `/api/auth/login/` | POST | ç”¨æˆ·ç™»å½• |
| `/api/auth/logout/` | POST | ç”¨æˆ·ç™»å‡º |
| `/api/users/` | GET/POST | ç”¨æˆ·åˆ—è¡¨/åˆ›å»º |
| `/api/projects/` | GET/POST | é¡¹ç›®åˆ—è¡¨/åˆ›å»º |
| `/api/scripts/` | GET/POST | è„šæœ¬åˆ—è¡¨/åˆ›å»º |
| `/api/plans/` | GET/POST | æµ‹è¯•è®¡åˆ’åˆ—è¡¨/åˆ›å»º |
| `/api/executions/` | GET/POST | æ‰§è¡Œè®°å½•åˆ—è¡¨/åˆ›å»ºæ‰§è¡Œ |
| `/api/executors/` | GET/POST | æ‰§è¡Œæœºåˆ—è¡¨/æ³¨å†Œ |
| `/api/executor/register/` | POST | æ‰§è¡Œæœºæ³¨å†Œ |
| `/api/executor/heartbeat/` | POST | æ‰§è¡Œæœºå¿ƒè·³ä¸ŠæŠ¥ |
| `/api/reports/` | GET | æµ‹è¯•æŠ¥å‘Š |
| `/api/drivers/` | GET | é©±åŠ¨åˆ—è¡¨ |
| `/ws/executor-status/` | WebSocket | æ‰§è¡ŒæœºçŠ¶æ€ç›‘å¬ |

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ |
|------|----------|
| Python | 3.9+ |
| Node.js | 16+ |
| RabbitMQ | 3.12+ (æ¶ˆæ¯é˜Ÿåˆ—) |

### 1. å®‰è£… RabbitMQ (æ¶ˆæ¯é˜Ÿåˆ—)

**æ–¹å¼ä¸€: Docker (æ¨è)**
```bash
cd auto-test-platform
docker-compose up -d
```

**æ–¹å¼äºŒ: Windows å¿«é€Ÿå®‰è£…**
```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
.\setup_rabbitmq.ps1
```

**æ–¹å¼ä¸‰: æ‰‹åŠ¨å®‰è£…**
1. ä¸‹è½½å®‰è£… Erlang/OTP
2. ä¸‹è½½å®‰è£… RabbitMQ
3. å¯ç”¨ç®¡ç†æ’ä»¶: `rabbitmq-plugins enable rabbitmq_management`
4. å¯åŠ¨æœåŠ¡: `rabbitmq-service start`

**éªŒè¯å®‰è£…**: è®¿é—® http://localhost:15672 (ç”¨æˆ·å/å¯†ç : guest/guest)

### 2. åç«¯å¯åŠ¨

```bash
cd backend

# å®‰è£…ä¾èµ– (åŒ…å« pika ç”¨äº RabbitMQ)
pip install -r requirements.txt

# æ•°æ®åº“è¿ç§»
python manage.py makemigrations
python manage.py migrate

# åˆ›å»ºè¶…çº§ç®¡ç†å‘˜ (å¯é€‰)
python create_admin.py

# å¯åŠ¨åç«¯æœåŠ¡ (ä½¿ç”¨ daphne æ”¯æŒ WebSocket)
daphne -b 0.0.0.0 -p 8000 core.asgi:application

# æˆ–è€…åœ¨ Windows ä¸ŠåŒå‡»: å¯åŠ¨æœåŠ¡å™¨.bat
```

**ç¯å¢ƒå˜é‡é…ç½®** (å¯é€‰):
```bash
# è®¾ç½® RabbitMQ è¿æ¥ä¿¡æ¯
export RABBITMQ_HOST=127.0.0.1
export RABBITMQ_PORT=5672
export RABBITMQ_USER=guest
export RABBITMQ_PASSWORD=guest
```

**é‡è¦æç¤º**:
- å¿…é¡»ä½¿ç”¨ `daphne` å¯åŠ¨æœåŠ¡å™¨ä»¥æ”¯æŒ WebSocket è¿æ¥
- `runserver` ä¸æ”¯æŒ WebSocketï¼ŒWeb UI å°†æ— æ³•æ¥æ”¶å®æ—¶çŠ¶æ€

### 3. å‰ç«¯å¯åŠ¨

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® http://localhost:5173 å³å¯ä½¿ç”¨å¹³å°ã€‚

### 4. æ‰§è¡Œå™¨å®¢æˆ·ç«¯å¯åŠ¨

```bash
cd executor-client

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¯åŠ¨ GUI å®¢æˆ·ç«¯
python main.py
```

é¦–æ¬¡è¿è¡Œä¼šå¼¹å‡ºé…ç½®å‘å¯¼ï¼Œéœ€è¦é…ç½®:
- æœåŠ¡å™¨åœ°å€: `http://127.0.0.1:8000`
- RabbitMQåœ°å€: `127.0.0.1`
- ç”¨æˆ·å/å¯†ç : å¹³å°ç™»å½•å‡­æ®
- æ‰§è¡Œæœºåç§°: è‡ªå®šä¹‰åç§° (å¦‚ "æµ‹è¯•æ‰§è¡Œæœº-01")

### 5. éªŒè¯å®‰è£…

1. **æ£€æŸ¥ RabbitMQ**: è®¿é—® http://localhost:15672ï¼Œç¡®è®¤æœåŠ¡æ­£å¸¸è¿è¡Œ
2. **å¯åŠ¨åç«¯**: çœ‹åˆ° "Starting server at ..." è¡¨ç¤ºæˆåŠŸ
3. **å¯åŠ¨å‰ç«¯**: è®¿é—® http://localhost:5173ï¼Œçœ‹åˆ°ç™»å½•é¡µé¢
4. **å¯åŠ¨æ‰§è¡Œå™¨**: é…ç½®å®Œæˆåè¿æ¥æœåŠ¡å™¨ï¼Œåœ¨å¹³å°æ‰§è¡Œå™¨ç®¡ç†ä¸­çœ‹åˆ°åœ¨çº¿çŠ¶æ€

## é»˜è®¤æµ‹è¯•è´¦æˆ·

| ç”¨æˆ·å | å¯†ç  | è§’è‰² |
|--------|------|------|
| admin | admin123 | è¶…çº§ç®¡ç†å‘˜ |
| admin2 | admin123 | ç®¡ç†å‘˜ |
| tester1 | test123 | æµ‹è¯•äººå‘˜ |
| guest1 | guest123 | è®¿å®¢ |

## ä½¿ç”¨è¯´æ˜

### åˆ›å»ºæµ‹è¯•è„šæœ¬æµç¨‹

```
1. åˆ›å»ºé¡¹ç›® â†’ é€‰æ‹©é¡¹ç›®ç±»å‹ (Web/ç§»åŠ¨ç«¯/API)
2. æ–°å»ºè„šæœ¬ â†’ é€‰æ‹©æµ‹è¯•æ¡†æ¶ (Selenium/Playwright/Appium/HttpRunner)
3. ç¼–è¾‘æ­¥éª¤ â†’ ä»å·¦ä¾§æ‹–æ‹½æ­¥éª¤åˆ°ç”»å¸ƒ
4. é…ç½®å‚æ•° â†’ åœ¨å³ä¾§å±æ€§é¢æ¿é…ç½®æ­¥éª¤å‚æ•°
5. ä¿å­˜è„šæœ¬ â†’ ä¿å­˜è„šæœ¬
6. è¿è¡Œæµ‹è¯• â†’ ç‚¹å‡»è¿è¡ŒæŒ‰é’®æ‰§è¡Œ
7. æŸ¥çœ‹æŠ¥å‘Š â†’ æŸ¥çœ‹æ‰§è¡Œç»“æœå’Œç»Ÿè®¡å›¾è¡¨
```

### æ­¥éª¤ç±»å‹è¯´æ˜

| åˆ†ç±» | æ­¥éª¤ | è¯´æ˜ |
|------|------|------|
| **é¡µé¢æ§åˆ¶** | æ‰“å¼€é¡µé¢ | å¯¼èˆªåˆ°æŒ‡å®š URL |
| | æ»šåŠ¨é¡µé¢ | æ»šåŠ¨åˆ°é¡¶éƒ¨/åº•éƒ¨/è‡ªå®šä¹‰ä½ç½® |
| | åˆ‡æ¢çª—å£/æ¡†æ¶ | åˆ‡æ¢åˆ°æŒ‡å®šçª—å£æˆ– iframe |
| | åˆ·æ–°/åé€€/å‰è¿› | æµè§ˆå™¨å¯¼èˆªæ“ä½œ |
| **äº¤äº’æ“ä½œ** | ç‚¹å‡»/åŒå‡»/å³é”® | é¼ æ ‡ç‚¹å‡»æ“ä½œ |
| | è¾“å…¥æ–‡æœ¬ | åœ¨è¾“å…¥æ¡†è¾“å…¥æ–‡æœ¬ |
| | æ¸…ç©ºè¾“å…¥ | æ¸…ç©ºè¾“å…¥æ¡†å†…å®¹ |
| | ä¸‹æ‹‰é€‰æ‹© | é€‰æ‹©ä¸‹æ‹‰é€‰é¡¹ |
| | å¤é€‰æ¡†/å•é€‰æ¡† | å‹¾é€‰æ“ä½œ |
| | æˆªå›¾ | æˆªå–å½“å‰é¡µé¢ |
| **æ–­è¨€éªŒè¯** | éªŒè¯æ ‡é¢˜ | éªŒè¯é¡µé¢æ ‡é¢˜ |
| | éªŒè¯ URL | éªŒè¯å½“å‰ URL |
| | éªŒè¯æ–‡æœ¬ | éªŒè¯é¡µé¢æ–‡æœ¬å†…å®¹ |
| | éªŒè¯å…ƒç´  | éªŒè¯å…ƒç´ å­˜åœ¨/å¯è§/å¯ç”¨ |
| **ç­‰å¾…** | ç­‰å¾…æ—¶é—´ | å›ºå®š/éšæœºç­‰å¾… |
| | ç­‰å¾…å…ƒç´  | ç­‰å¾…å…ƒç´ å‡ºç° |
| | ç­‰å¾…æ–‡æœ¬ | ç­‰å¾…æ–‡æœ¬å‡ºç° |
| **é”®ç›˜æ“ä½œ** | æŒ‰é”® | æ¨¡æ‹Ÿé”®ç›˜æŒ‰é”® |
| | ç»„åˆé”® | Ctrl+Aã€Ctrl+C ç­‰ |
| **æ–‡ä»¶æ“ä½œ** | ä¸Šä¼ æ–‡ä»¶ | ä¸Šä¼ æœ¬åœ°æ–‡ä»¶ |
| | ä¸‹è½½æ–‡ä»¶ | ä¸‹è½½è¿œç¨‹æ–‡ä»¶ |
| **æ•°æ®æ“ä½œ** | è·å–/è®¾ç½® Cookie | Cookie æ“ä½œ |
| | è·å–/è®¾ç½®å­˜å‚¨ | localStorage/sessionStorage |
| | æå–æ•°æ® | ä»é¡µé¢æå–å˜é‡ |
| **é«˜çº§** | æ‰§è¡Œè„šæœ¬ | æ‰§è¡Œ JavaScript |
| | å¤„ç†å¼¹çª— | å¤„ç† alert/confirm |
| | æ‰“å¼€/å…³é—­æ ‡ç­¾é¡µ | æ ‡ç­¾é¡µæ“ä½œ |

### å®šä½å™¨æ ¼å¼

```yaml
# XPath
locator:
  type: xpath
  value: //input[@id='username']

# CSS Selector
locator:
  type: css
  value: .username-input

# ID
locator:
  type: id
  value: username

# Name
locator:
  type: name
  value: username

# Class
locator:
  type: class
  value: form-control

# Tag
locator:
  type: tag
  value: input

# é“¾æ¥æ–‡æœ¬
locator:
  type: link_text
  value: ç™»å½•

# éƒ¨åˆ†é“¾æ¥æ–‡æœ¬
locator:
  type: partial_link_text
  value: ç™»
```

### å˜é‡ä½¿ç”¨

åœ¨æ­¥éª¤å‚æ•°ä¸­ä½¿ç”¨ `${å˜é‡å}` æ ¼å¼å¼•ç”¨å˜é‡ï¼š

```
URL: https://${base_url}/login
ç”¨æˆ·å: ${username}
å¯†ç : ${password}
```

å˜é‡ä¼˜å…ˆçº§ï¼š**è„šæœ¬å˜é‡ > é¡¹ç›®å˜é‡**

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### 1. é…ç½®ç¯å¢ƒå˜é‡

```bash
# åç«¯
cd backend
cp .env.example .env
# ç¼–è¾‘ .envï¼Œä¿®æ”¹ DJANGO_SECRET_KEYã€åŸŸåç­‰é…ç½®

# å‰ç«¯
cd frontend
cp .env.example .env.production
# ç¼–è¾‘ .env.productionï¼Œè®¾ç½® VITE_API_BASE_URL
```

### 2. åç«¯éƒ¨ç½²

```bash
cd backend

# ä½¿ç”¨ç”Ÿäº§é…ç½®è¿ç§»æ•°æ®åº“
python manage.py migrate --settings=core.settings_prod

# æ”¶é›†é™æ€æ–‡ä»¶
python manage.py collectstatic --settings=core.settings_prod --noinput

# ä½¿ç”¨ Gunicorn å¯åŠ¨
pip install gunicorn
gunicorn core.wsgi:application --settings core.settings_prod --bind 0.0.0.0:8000 --workers 4
```

### 3. å‰ç«¯æ„å»º

```bash
cd frontend

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# ç”Ÿæˆçš„ dist ç›®å½•éƒ¨ç½²åˆ° Nginx
```

### 4. Nginx é…ç½®ç¤ºä¾‹

```nginx
server {
    listen 80;
    server_name your-domain.com;

    # å‰ç«¯
    location / {
        root /path/to/frontend/dist;
        try_files $uri $uri/ /index.html;
    }

    # åç«¯ API
    location /api {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # WebSocket
    location /ws {
        proxy_pass http://127.0.0.1:8000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }

    # é™æ€æ–‡ä»¶
    location /static {
        alias /path/to/backend/staticfiles;
    }

    # åª’ä½“æ–‡ä»¶
    location /media {
        alias /path/to/backend/media;
    }
}
```

### éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] ä¿®æ”¹ `DJANGO_SECRET_KEY`
- [ ] è®¾ç½® `DJANGO_ALLOWED_HOSTS`
- [ ] é…ç½® `CORS_ALLOWED_ORIGINS`
- [ ] é…ç½® `CSRF_TRUSTED_ORIGINS`
- [ ] è®¾ç½® `DEBUG=False`
- [ ] è¿è¡Œæ•°æ®åº“è¿ç§»
- [ ] æ”¶é›†é™æ€æ–‡ä»¶
- [ ] é…ç½® Nginx åå‘ä»£ç†
- [ ] é…ç½® HTTPS (æ¨è)

> è¯¦ç»†éƒ¨ç½²è¯´æ˜è¯·å‚è€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md)

## ç•Œé¢é¢„è§ˆ

### é¡¹ç›®ç®¡ç†
é¡¹ç›®å¡ç‰‡å¼å±•ç¤ºï¼Œæ”¯æŒ Web/ç§»åŠ¨ç«¯/API ä¸‰ç§ç±»å‹

### è„šæœ¬ç¼–è¾‘å™¨
- å·¦ä¾§ï¼šæ­¥éª¤ç±»å‹é¢æ¿ï¼ˆ8å¤§ç±»ï¼Œ50+ æ­¥éª¤ç±»å‹ï¼‰
- ä¸­é—´ï¼šå¯è§†åŒ–ç”»å¸ƒ + JSON ç¼–è¾‘æ¨¡å¼
- å³ä¾§ï¼šæ­¥éª¤å±æ€§é…ç½®é¢æ¿

### æ‰§è¡Œç®¡ç†
- å®æ—¶çŠ¶æ€å±•ç¤º
- WebSocket æ¨é€æ‰§è¡Œè¿›åº¦
- æ”¯æŒæ‰‹åŠ¨åœæ­¢æ‰§è¡Œ

### æµ‹è¯•æŠ¥å‘Š
- ECharts å›¾è¡¨å±•ç¤º
- æ‰§è¡Œè¶‹åŠ¿ã€è€—æ—¶åˆ†å¸ƒã€å¤±è´¥åˆ†æ
- HTML æŠ¥å‘Šå¯¼å‡º

## æ•…éšœæ’æŸ¥

### RabbitMQ ç›¸å…³é—®é¢˜

#### 1. RabbitMQ è¿æ¥å¤±è´¥

**ç—‡çŠ¶**: åç«¯æ—¥å¿—æ˜¾ç¤º "Connection to RabbitMQ failed"

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Windows: æ£€æŸ¥æœåŠ¡çŠ¶æ€
Get-Service RabbitMQ

# Linux: æ£€æŸ¥æœåŠ¡çŠ¶æ€
sudo systemctl status rabbitmq-server

# å¯åŠ¨æœåŠ¡
rabbitmq-service start  # Windows
sudo systemctl start rabbitmq-server  # Linux
```

#### 2. é˜Ÿåˆ—æœªåˆ›å»º

**ç—‡çŠ¶**: æ‰§è¡Œæœºè¿æ¥åï¼ŒRabbitMQç®¡ç†ç•Œé¢çœ‹ä¸åˆ°å¯¹åº”é˜Ÿåˆ—

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æ‰§è¡Œæœºæ—¥å¿—ï¼Œç¡®è®¤ RabbitMQ è¿æ¥æˆåŠŸ
- æŸ¥çœ‹æ‰§è¡Œæœºé…ç½®æ–‡ä»¶ `~/.executor/config.json`
- ç¡®è®¤ RabbitMQ åœ°å€ã€ç«¯å£ã€ç”¨æˆ·åå¯†ç é…ç½®æ­£ç¡®

#### 3. æ¶ˆæ¯å †ç§¯

**ç—‡çŠ¶**: é˜Ÿåˆ—ä¸­æ¶ˆæ¯æ•°é‡æŒç»­å¢é•¿

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æŸ¥çœ‹é˜Ÿåˆ—æ¶ˆæ¯æ•°
rabbitmqctl list_queues name messages

# æ¸…ç©ºé˜Ÿåˆ—
rabbitmqctl purge_queue executor.xxx-xxx-xxx
```

### æ‰§è¡Œå™¨ç›¸å…³é—®é¢˜

#### 1. æ‰§è¡Œæœºæ— æ³•æ¥æ”¶ä»»åŠ¡

**ç—‡çŠ¶**: æ‰§è¡Œæœºåœ¨çº¿ï¼Œä½†è§¦å‘æµ‹è¯•åæ²¡æœ‰ååº”

**æ£€æŸ¥æ­¥éª¤**:
1. æ£€æŸ¥æ‰§è¡Œæœºæ˜¯å¦æˆåŠŸè¿æ¥åˆ° RabbitMQ
2. åœ¨ RabbitMQ ç®¡ç†ç•Œé¢æŸ¥çœ‹æ˜¯å¦æœ‰å¯¹åº”é˜Ÿåˆ—
3. æ£€æŸ¥æ‰§è¡Œæœºæ—¥å¿—æ˜¯å¦æœ‰æ¶ˆè´¹ä»»åŠ¡çš„è®°å½•
4. ç¡®è®¤ä»»åŠ¡åˆ†å‘æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ

#### 2. æ‰§è¡Œæœºå¿ƒè·³æœªæ›´æ–°

**ç—‡çŠ¶**: å¹³å°æ˜¾ç¤ºæ‰§è¡Œæœºç¦»çº¿

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æ‰§è¡Œæœºåˆ°å¹³å°çš„ HTTP è¿æ¥
- æŸ¥çœ‹ `/api/executor/heartbeat/` ç«¯ç‚¹æ˜¯å¦å¯è®¿é—®
- ç¡®è®¤æ‰§è¡Œæœºé…ç½®ä¸­çš„ `server_url` æ­£ç¡®

#### 3. æµè§ˆå™¨å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦å·²å®‰è£…
- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶äº†è§£è¯¦ç»†é”™è¯¯
- å°è¯•æ‰‹åŠ¨æŒ‡å®šæµè§ˆå™¨è·¯å¾„

### WebSocket ç›¸å…³é—®é¢˜

#### 1. å‰ç«¯æ— æ³•è¿æ¥ WebSocket

**ç—‡çŠ¶**: Web UI æ— æ³•æ˜¾ç¤ºå®æ—¶çŠ¶æ€

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®è®¤åç«¯ä½¿ç”¨ `daphne` å¯åŠ¨ï¼Œè€Œé `runserver`
- æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

#### 2. WebSocket è¿æ¥æ–­å¼€

**è§£å†³æ–¹æ¡ˆ**:
- æ£€æŸ¥ç½‘ç»œè¿æ¥ç¨³å®šæ€§
- å‰ç«¯å®ç°äº†è‡ªåŠ¨é‡è¿ï¼Œç¨ç­‰ç‰‡åˆ»ä¼šè‡ªåŠ¨æ¢å¤
- æŸ¥çœ‹åç«¯æ—¥å¿—æ˜¯å¦æœ‰å¼‚å¸¸

### åç«¯å¯åŠ¨é—®é¢˜

#### ä½¿ç”¨ runserver è€Œä¸æ˜¯ daphne

**ç—‡çŠ¶**: æ—¥å¿—æ˜¾ç¤º `Not Found: /ws/executor/`

**åŸå› **: `python manage.py runserver` ä¸æ”¯æŒ WebSocket

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é”™è¯¯çš„å¯åŠ¨æ–¹å¼
python manage.py runserver

# æ­£ç¡®çš„å¯åŠ¨æ–¹å¼
daphne -b 127.0.0.1 -p 8000 core.asgi:application
```

### æ•°æ®åº“é—®é¢˜

#### è¿ç§»å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡ç½®æ•°æ®åº“ (è­¦å‘Š: ä¼šæ¸…ç©ºæ‰€æœ‰æ•°æ®)
rm backend/db.sqlite3
python manage.py makemigrations
python manage.py migrate
```

### è°ƒè¯•æŠ€å·§

#### 1. æŸ¥çœ‹æ—¥å¿—

**åç«¯æ—¥å¿—**: ç»ˆç«¯è¾“å‡º
**å‰ç«¯æ—¥å¿—**: æµè§ˆå™¨å¼€å‘è€…å·¥å…· Console
**æ‰§è¡Œæœºæ—¥å¿—**: `~/.executor/logs/`
**RabbitMQæ—¥å¿—**: æ ¹æ®å®‰è£…è·¯å¾„æŸ¥çœ‹

#### 2. æµ‹è¯• RabbitMQ è¿æ¥

```python
# æµ‹è¯•è„šæœ¬
import pika

connection = pika.BlockingConnection(
    pika.ConnectionParameters(
        host='127.0.0.1',
        port=5672,
        virtual_host='/',
        credentials=pika.PlainCredentials('guest', 'guest')
    )
)
channel = connection.channel()
print("RabbitMQ è¿æ¥æˆåŠŸ!")
connection.close()
```

#### 3. æµ‹è¯• API ç«¯ç‚¹

```bash
# æµ‹è¯•å¿ƒè·³API
curl -X POST http://localhost:8000/api/executor/heartbeat/ \
  -H "Content-Type: application/json" \
  -d '{"executor_uuid": "test", "cpu_usage": 0, "memory_usage": 0}'
```

### å¸¸è§é”™è¯¯ä»£ç 

| é”™è¯¯ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| `AMQPConnectionError` | RabbitMQ æœªå¯åŠ¨ | å¯åŠ¨ RabbitMQ æœåŠ¡ |
| `AuthenticationError` | RabbitMQ è®¤è¯å¤±è´¥ | æ£€æŸ¥ç”¨æˆ·åå¯†ç  |
| `NotFound: /ws/` | WebSocket è·¯ç”±æœªæ‰¾åˆ° | ä½¿ç”¨ daphne å¯åŠ¨ |
| `401 Unauthorized` | API è®¤è¯å¤±è´¥ | æ£€æŸ¥ç™»å½•çŠ¶æ€ |
| `500 Internal Error` | æœåŠ¡å™¨é”™è¯¯ | æŸ¥çœ‹åç«¯æ—¥å¿— |

## æ›´å¤šæ–‡æ¡£

| æ–‡æ¡£ | è¯´æ˜ |
|------|------|
| [ARCHITECTURE.md](./ARCHITECTURE.md) | **ç³»ç»Ÿæ¶æ„æ–‡æ¡£** - ä»»åŠ¡åˆ†å‘æœºåˆ¶ã€æ‰§è¡Œæ¨¡å¼è¯¦è§£ |
| [DEPLOYMENT.md](./DEPLOYMENT.md) | è¯¦ç»†çš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å— |
| [MQ_SUMMARY.md](./MQ_SUMMARY.md) | æ¶ˆæ¯é˜Ÿåˆ—æ¶æ„è¿ç§»æ€»ç»“ |
| [RABBITMQ_INSTALL.md](./RABBITMQ_INSTALL.md) | RabbitMQ å®‰è£…æŒ‡å— |
| [RABBITMQ_STATUS.md](./RABBITMQ_STATUS.md) | RabbitMQ çŠ¶æ€æ£€æŸ¥ |
| [executor-client/README.md](./executor-client/README.md) | æ‰§è¡Œå™¨å®¢æˆ·ç«¯è¯¦ç»†æ–‡æ¡£ |
| [executor-client/ä½¿ç”¨è¯´æ˜.md](./executor-client/ä½¿ç”¨è¯´æ˜.md) | æ‰§è¡Œå™¨å®¢æˆ·ç«¯ä½¿ç”¨è¯´æ˜ |

## ç³»ç»Ÿè¦æ±‚

### å¼€å‘ç¯å¢ƒ

| ç»„ä»¶ | æœ€ä½è¦æ±‚ | æ¨èé…ç½® |
|------|----------|----------|
| Python | 3.9 | 3.11+ |
| Node.js | 16 | 18 LTS |
| å†…å­˜ | 4GB | 8GB+ |
| ç£ç›˜ | 2GB | 10GB+ |

### ç”Ÿäº§ç¯å¢ƒ

| ç»„ä»¶ | æœ€ä½è¦æ±‚ | æ¨èé…ç½® |
|------|----------|----------|
| CPU | 2æ ¸ | 4æ ¸+ |
| å†…å­˜ | 4GB | 16GB+ |
| æ•°æ®åº“ | SQLite | PostgreSQL 13+ |
| æ¶ˆæ¯é˜Ÿåˆ— | RabbitMQ 3.12+ | RabbitMQ é›†ç¾¤ |

## æµè§ˆå™¨æ”¯æŒ

| æµè§ˆå™¨ | ç‰ˆæœ¬ |
|--------|------|
| Chrome | 90+ |
| Firefox | 88+ |
| Edge | 90+ |
| Safari | 14+ |

## è·¯çº¿å›¾

### v1.1 (è®¡åˆ’ä¸­)
- [ ] æ”¯æŒæ›´å¤šæµ‹è¯•æ¡†æ¶ (Cypress, Robot Framework)
- [ ] CI/CD é›†æˆ (Jenkins, GitLab CI)
- [ ] æµ‹è¯•æ•°æ®è‡ªåŠ¨ç”Ÿæˆ
- [ ] æ€§èƒ½æµ‹è¯•æ”¯æŒ

### v2.0 (æœªæ¥)
- [ ] åˆ†å¸ƒå¼æ‰§è¡Œé›†ç¾¤
- [ ] AI è¾…åŠ©æµ‹è¯•ç”¨ä¾‹ç”Ÿæˆ
- [ ] ç§»åŠ¨ç«¯ APP æ”¯æŒ
- [ ] äº‘åŸç”Ÿéƒ¨ç½² (Kubernetes)

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è®¸å¯è¯

MIT License

## è”ç³»æ–¹å¼

- é—®é¢˜åé¦ˆ: è¯·æäº¤ GitHub Issue
- æŠ€æœ¯è®¨è®º: æ¬¢è¿ Pull Request

---

**æœ€åæ›´æ–°**: 2026-02-10
